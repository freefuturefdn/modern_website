(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3903],{47207:(e,s,l)=>{Promise.resolve().then(l.bind(l,35861))},35861:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>C});var t=l(95155),a=l(12115),r=l(5565),c=l(48173),i=l.n(c),n=l(22022),d=l(20853),o=l(84267),m=l(32423),h=l(57223),x=l(48251),u=l(14085),j=l(9955),p=l(35007),v=l(50745),g=l(56870),f=l(6429),N=l(43670),w=l(97332),b=l(51598),y=l(90747);function C(){let[e,s]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[C,S]=(0,a.useState)(!0),[_,k]=(0,a.useState)(""),[A,F]=(0,a.useState)([]),[E,L]=(0,a.useState)("latest"),[D,$]=(0,a.useState)("all");(0,a.useEffect)(()=>{(async function(){try{let{data:e,error:l}=await y.N.from("events").select("*").eq("status","completed").order("start_date",{ascending:!1});if(l)throw l;s(e||[]),c(e||[]),S(!1)}catch(e){console.error("Error fetching events:",e),S(!1)}})()},[]),(0,a.useEffect)(()=>{let s=[...e];_&&(s=s.filter(e=>e.title.toLowerCase().includes(_.toLowerCase())||e.description.toLowerCase().includes(_.toLowerCase())||e.location.toLowerCase().includes(_.toLowerCase()))),A.length>0&&(s=s.filter(e=>A.some(s=>e.location.includes(s)))),"all"!==D&&(s=s.filter(e=>new Date(e.start_date).getFullYear().toString()===D)),"latest"===E?s.sort((e,s)=>new Date(s.start_date).getTime()-new Date(e.start_date).getTime()):"oldest"===E?s.sort((e,s)=>new Date(e.start_date).getTime()-new Date(s.start_date).getTime()):"title"===E&&s.sort((e,s)=>e.title.localeCompare(s.title)),c(s)},[_,A,E,D,e]);let q=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),T=[...new Set(e.map(e=>e.location))],P=[...new Set(e.map(e=>new Date(e.start_date).getFullYear()))].sort((e,s)=>s-e),V=e=>{F(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,t.jsxs)("div",{className:"pt-16",children:[(0,t.jsx)("section",{className:"relative py-20 bg-ash-light",children:(0,t.jsx)("div",{className:"container mx-auto px-4 text-center",children:(0,t.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto space-y-6",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:"Past Events"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"Browse our archive of past events, access resources, and relive the moments that shaped our journey."})]})})}),(0,t.jsx)("section",{className:"py-10 bg-ash-light",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,t.jsxs)("div",{className:"relative w-full md:w-1/2",children:[(0,t.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(j.p,{type:"text",placeholder:"Search events...",className:"pl-10",value:_,onChange:e=>k(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[(0,t.jsxs)(g.cj,{children:[(0,t.jsx)(g.CG,{asChild:!0,children:(0,t.jsxs)(u.$,{variant:"outline",className:"w-full sm:w-auto",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Filter"]})}),(0,t.jsxs)(g.h,{children:[(0,t.jsxs)(g.Fm,{children:[(0,t.jsx)(g.qp,{children:"Filter Events"}),(0,t.jsx)(g.Qs,{children:"Narrow down events based on your preferences"})]}),(0,t.jsx)("div",{className:"py-4",children:(0,t.jsx)(f.nD,{type:"single",collapsible:!0,className:"w-full",children:(0,t.jsxs)(f.As,{value:"location",children:[(0,t.jsx)(f.$m,{children:"Location"}),(0,t.jsx)(f.ub,{children:(0,t.jsx)("div",{className:"space-y-2",children:T.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(N.S,{id:"location-".concat(e),checked:A.includes(e),onCheckedChange:()=>V(e)}),(0,t.jsx)("label",{htmlFor:"location-".concat(e),className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e})]},e))})})]})})}),(0,t.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,t.jsx)(u.$,{variant:"outline",onClick:()=>F([]),children:"Clear Filters"}),(0,t.jsx)(u.$,{onClick:()=>{var e;return null===(e=document.querySelector("[data-radix-collection-item]"))||void 0===e?void 0:e.click()},children:"Apply Filters"})]})]})]}),(0,t.jsxs)(v.l6,{value:E,onValueChange:L,children:[(0,t.jsx)(v.bq,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(v.yv,{placeholder:"Sort by"})}),(0,t.jsxs)(v.gC,{children:[(0,t.jsx)(v.eb,{value:"latest",children:"Latest First"}),(0,t.jsx)(v.eb,{value:"oldest",children:"Oldest First"}),(0,t.jsx)(v.eb,{value:"title",children:"Title (A-Z)"})]})]}),(0,t.jsxs)(v.l6,{value:D,onValueChange:$,children:[(0,t.jsx)(v.bq,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(v.yv,{placeholder:"Select Year"})}),(0,t.jsxs)(v.gC,{children:[(0,t.jsx)(v.eb,{value:"all",children:"All Years"}),P.map(e=>(0,t.jsx)(v.eb,{value:e.toString(),children:e},e))]})]})]})]})})}),(0,t.jsx)("section",{className:"py-20",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:C?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(e=>(0,t.jsxs)(p.Zp,{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-48 bg-ash rounded-t-lg"}),(0,t.jsxs)(p.Wu,{className:"p-6 space-y-4",children:[(0,t.jsx)("div",{className:"h-6 bg-ash rounded w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-ash rounded w-1/2"}),(0,t.jsx)("div",{className:"h-4 bg-ash rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-ash rounded w-full"}),(0,t.jsx)("div",{className:"h-10 bg-ash rounded w-full"})]})]},e))}):l.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map((e,s)=>(0,t.jsxs)(b.A,{delay:.1*s,className:"bg-white rounded-lg overflow-hidden shadow-md",children:[(0,t.jsx)("div",{className:"relative h-48",children:(0,t.jsx)(r.default,{src:e.image_url||"/placeholder.svg",alt:e.title,fill:!0,className:"object-cover"})}),(0,t.jsxs)(p.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 text-primary mr-2"}),(0,t.jsxs)("p",{className:"text-sm font-medium",children:[q(e.start_date),e.start_date!==e.end_date&&" - ".concat(q(e.end_date))]})]}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 text-muted-foreground mr-2"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.location})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:e.description}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:e.resources&&e.resources.length>0&&(0,t.jsx)(u.$,{variant:"outline",asChild:!0,children:(0,t.jsxs)(i(),{href:"/events/".concat(e.id),children:["View Resources ",(0,t.jsx)(x.A,{className:"ml-1 h-4 w-4"})]})})})]})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No events found"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"No events match your search criteria. Please try a different search term or filter."}),(0,t.jsx)(u.$,{onClick:()=>{k(""),F([]),L("latest"),$("all")},children:"Clear Filters"})]})})}),(0,t.jsx)("section",{className:"py-20 bg-ash-light",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,t.jsx)(w.A,{title:"Looking for Upcoming Events?",subtitle:"Check out our calendar of upcoming events and register to attend",center:!0}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(u.$,{asChild:!0,children:(0,t.jsx)(i(),{href:"/events/upcoming",children:"View Upcoming Events"})})})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[1181,2022,5565,5619,1573,8906,980,9832,888,5877,8441,1517,7358],()=>s(47207)),_N_E=e.O()}]);